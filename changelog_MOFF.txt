From 81071a1:
============

(*) Create member function flags_on_stack() for class Interferometer
to compute visibility flags from time-stacked electric fields from
the common timestamps between the pair of antennas. Update docstring
of class Interferometer accordingly

From 7e31571:
============

(*) Create member function XF_on_stack() for class Interferometer
to convert time-stacked electric fields time series to visibility
spectra. Currently it will not work because the underlying correlate()
function of numpy only supports 1D arrays. Needs serious development.
Modify docstring of class Interferometer accordingly

From c2956de:
============

In antenna_array.py,

(*) Create member function t2f_on_stack() under class Interferometer
to compute visibility spectra from time-stacked visibility lags.
Update docstring of class Interferometer accordingly
(*) Minor change to docstring of f2t_on_stack() member function of
class Interferometer and correspondingly in the docstring of class
Interferometer

From 3055040:
============

In antenna_array.py,

(*) Create member function f2t_on_stack() under class Interferometer
to compute visibility lags from time-stacked visibility spectra.
Update docstring of class Interferometer accordingly
(*) Assign timestamps common to the two antennas to the attribute
timestamps of class Interferometer inside FX_on_stack() member
function of the same class
(*) Use f2t_on_stack() member function of class Interferometer created
above inside FX_on_stack() member function of the same class to
compute visibility lags from a time-stacked visibility spectra

From f4c4ce3:
============

In antenna_array.py,

(*) Create member function FX_on_stack() for class Interferometer that
can compute time-stacked FX visibility spectra from time-stacked
electric field spectra in the individual antennas in the antenna pair.
Update docstring of class Interferometer accordingly

From 34873a2:
============

In antenna_array.py,

(*) Add member function refresh_antenna_pairs() to class
Interferometer to refresh the individual antenna pairs with
the antenna information provided. Modify docstring of class
Interferometer accordingly
(*) Add member function refresh_antenna_pairs() to class
InterferometerArray to refresh the individual antenna pairs with
the antenna information in the attribute antenna_array. This invokes
the member function refresh_antenna_pairs() of individual
interferometers created above. Modify docstring of class
InterferometerArray accordingly
(*) In class InterferometerArray, from member function update()
call member function refresh_antenna_pairs() immediately after
updating antenna level information
(*) Comment out defunct classes PolInfo_old, Antenna_old, and
AntennaaArray_old
(*) Update outdated docstring of member function update() of class
InterferometerArray to accurately reflect the inputs
(*) Add key 'stack' under keys 'antennas' and 'interferometers' of
input dictionaries antenna_level_updates and
interferometer_level_updates in member function update() of class
InterferometerArray. Change docstring accordingly
(*) Modify update() member function of class InterferometerArray to 
pass keyword stack while updating the individual interferometer
attributes
(*) Remove inappropriate stack actions from member function
update_flags() of class CrossPolInfo
(*) Add progressbar inside update() member function of class
InterferometerArray
(*) Fix bug in progressbar in member function make_grid_cube() of
class AntennaArray when verbose keyword is not set
(*) Comment out a line in update() member function of class
InterferometerArray that used update_old() member function of class
Interferometer
(*) Add internal attribute __init_flags_on to class CrossPolInfo to
keep track of first time the flags are really updated. Change
docstring of member function __init__() of class CrossPolInfo
accordingly
(*) Add internal attribute __init_data_on to class CrossPolInfo to
keep track of first time the data are really updated. Change
docstring of member function __init__() of class CrossPolInfo
accordingly
(*) Modify updating the cross-polarization products inside member
function update() of class Interferometer without an 'if' condition
(*) Modify member functions update_flags() in classes CrossPolInfo
and Interferometer now accounting for first time updates using the
internal attribute _init_flags_on of class CrossPolInfo
(*) Modify member functions update_flags() in classes Interferometer
to loop through different polarizations using dictionary comprehension
during flag initialization
(*) Minor change to correct docstring of member function
update_flags() of class CrossPolInfo
(*) Modify verify actions inside member function update_flags() of
class Interferometer
(*) Modify inside member function update() of class
InterferometerArray the call to update_flags() of the same class
after updating at the antenna array level
(*) Slight increase in verbosity of member function update() of
class InterferometerArray
(*) Make flag stacking not append the most recent flag to the end
of the stack if the stack is empty and input keyword stack is set to
False in update_flags() member function of class Interferometer
(*) Make visibility stacking not append the most recent data to the
end of the stack if stack is empty and input keyword stack is set to
False in update() member function of class Interferometer
(*) Make the call to update_flags() member function of class
Interferometer from member function update() also of the same class
to now appear conditionally only if do_correlate is set inside the
update() member function
(*) Verify flags in update_flags() member function of class
CrossPolInfo only if internal attribute _init_data_on is set to False
(*) Set internal attribute _init_data_on to False in member function
update() of class CrossPolInfo when input Vf and/or Vt is provided
(*) Set internal attribute _init_data_on to False in member functions
FX() and FX_pp() of class Interferometer whenever FX is performed
(*) Set internal attribute _init_data_on to False in member functions
XF() of class Interferometer whenever XF is performed
(*) Move call to update_flags() inside member functions FX(), FX_pp()
and XF() of class Interferometer towards the end of the block and
with explicit arguments flags=None, stack=False and verify=True
(*) Comment out the separate call for FX() or XF() of class
InterferometerArray based on the input flag do_correlate at the end
of the block inside update() member function of class
InterferometerArray. Instead use the do_correlate flag inside the
individual interferometer update dictionary. This avoids many
recursive calls and conflicts between flag stacking, flag verification
and data stacking.
(*) In member function update() of class Interferometer, if the
dictionary key 'do_correlate' is set to 'FX' or 'XF', since the FX()
or XF() both perform a flag verification after determining the
visibilities, the call to update_flags() following the call to FX()
or XF() is only used to stack flags and not for redundant verification
(*) Update docstring of member function FX() of class
InterferometerArray to include description on input keywords parallel
nproc
(*) Update docstring of member function update() of class
InterferometerArray to include description on input keywords parallel
nproc

From 575447c:
============

In antenna_array.py,

(*) Update docstring description of input keyword 'stack' in update()
member functions of classes Antenna and Interferometer
(*) Add key 'stack' under key 'antennas' of input dictionary updates
in member function update() of class AntennaArray
(*) Modify update() member function of class AntennaArray to pass
keyword stack while updating the individual antenna attributes
(*) Test stacking at antenna level which is found to work

From a48e77c:
============

In antenna_array.py,

(*) Fix bug in member function update_flags() of classes Antenna and
Interferometer to convert the first entry into attribute flag_stack 
from a boolean scalar to a boolean numpy array
(*) Add stack and verify input keywrods to member function
update_flags() of class InterferometerArray
(*) Fix bug in function definition of member function update_flags()
of class Interferometer
(*) Call update_flags() member function of class Antenna from inside
update_flags() member function of class AntennaArray instead of
calling the one under class PolInfo directly
(*) Call update_flags() member function of class Interferometer from 
inside update_flags() member function of class InterferometerArray 
instead of calling the one under class CrossPolInfo directly

From 26cac81:
============

In antenna_array.py,

(*) Update member function update() of class Interferometer by
combining an earlier range of inputs to a single input dictionary
called update_dict. Change docstring accordingly. This is on lines
similar to update() member function of class Antenna
(*) Update member function update_pp() of class Interferometer to
now act as a simple wrapper of member function update(). Change
docstring accordingly.
(*) Modify update() member function of class InterferometerArray to
call the modified member function update() of class Interferometer
with appropriate inputs
(*) Renamed the previous versions of these modified member functions
of class Interferometer with a suffix '_old' and will be removed in
future revisions after the modified versions are verified to work

From 93e1746:
============

In antenna_array.py,

(*) Accumulate and average only unflagged visibilities in member
function accumulate() of class Interferometer
(*) Trim some commented lines to within 80 characters

From ebe643a:
============

In antenna_array.py,

(*) Rename member function FX_new() to FX_pp() of class 
Interferometer. Update docstring of class Interferometer accordingly
(*) Replace all occurrences of FX_new() with FX_pp() throughout
including inside unwrap_interferometer_FX()
(*) Rename member function FT_new() to FT_pp() of class Antenna.
Update docstring of class Antenna accordingly
(*) Replace all occurrences of FT_new() with FT_pp() throughout
including inside unwrap_antenna_FT()
(*) Rename member function update_new() to update_pp() of classes
Antenna and Interferometer. Update docstrings of classes Antenna and
Interferometer accordingly
(*) Replace all occurrences of update_new() with update_pp() throughout
including inside unwrap_interferometer_update() and
unwrap_antenna_update()

From 6a239ea:
============

In antenna_array.py,

(*) Update docstring of member function update() of class Antenna
(*) Update docstring of class Antenna to include descriptions of
member functions FT(), FT_new(), and update_new()
(*) Minor change to docstring of meber function delay_compensation(),
FT(), update() of class PolInfo
(*) Update docstring of class PolInfo to include descriptions of
member functions FT(), update_flags() 
(*) Minor change to docstring of class CrossPolInfo

From 98c9abc:
============

In antenna_array.py,

(*) Add attributes Vf_avg, twts, tbinsize to class Interferometer and
initialize them in __init__() member function. Modify docstring
accordingly
(*) Add member function accumulate() to class Interferometer to
accumulate and average visibilities. Create an appropriate docstring.
(*) Modify docstring of class Interferometer to include description on
member function accumulate()
(*) Update docstring of member function update_new() of class
Interferometer
(*) Modify docstring of class Interferometer to include description on
member function update_new()
(*) Update docstring of member function FX_new() of class
Interferometer
(*) Modify docstring of class Interferometer to include description on
member function FX_new()

From 2f23075:
============

In antenna_array.py,

(*) Remove commented lines on stacking in classes CrossPolInfo and
PolInfo

From 1a50cb3:
============

In antenna_array.py,

(*) Remove input keyword stack and comment stacking lines from
member functions FT() and FT_new() of class Antenna. Modify
docstring accordingly
(*) Reactivate discontinued member function update_flags() of class
Antenna and add input keywords stack and verify and stacking
functionality. Modify docstring accordingly
(*) Remove keyword input stack and commented stacking lines from
member function FX() of class Interferometer. Change docstring
accordingly
(*) Modify update() member functions of class Antenna to perform flag
and data stacking, and flag verification
(*) Add visibility stacking inside update() member function of class
Interferometer which was missing this earlier
(*) Modify docstring of member function update_new() of class
Interferometer
(*) Fix minor bugs in initialization of inputs stack and verify_flags 
in member function update_new() of class Interferometer

From b2dc205:
============

In antenna_array.py,

(*) Comment out stacking in class PolInfo and its docstrings as well
as stacking will be moved to class Antenna in future commits

From c74fc02:
============

In antenna_array.py,

(*) Remove attributes Et_stack, Ef_stack, and flag_stack from class
PolInfo and insert them under class Antenna. Change the respective
__init__() member functions and docstrings accordingly
(*) Minor change to docstring of member function __init__() of class
Interferometer

From f96d15d:
============

In antenna_array.py,

(*) Modify update_new() member function of class Interferometer to 
proceed only if timestamp aligns with that of both antennas
(*) Modify update_new() member function of class Interferometer to 
update visibility and flag stacking
(*) Update docstring accordingly in member functions update() and
update_new() of class Interferometer

From aeea7df:
============

In antenna_array.py,

(*) Modify attribute timestamps from being a dictionary to be a list
in class Interferometer. Modify __init__() member function and
docstring accordingly
(*) Modify update() member function of class Interferometer to proceed
only if timestamp aligns with that of both antennas
(*) Modify update() member function of class Interferometer to update
visibility and flag stacking

From 34c9b98:
============

In antenna_array.py,

(*) Add keyword inputs verify and stack to member function
update_flags() of class Interferometer to perform flag verification
and stacking respectively. Change docstring accordingly
(*) Change default assignment of flags to False with a migration of
current values of flags inside member function update_flags() of class
Interferometer
(*) Change default value of input keyword verify from False to True
in member function update_flags() of class CrossPolInfo. Change
docstring accordingly

From c55195f:
============

In antenna_array.py,

(*) Remove attributes Vt_stack, Vf_stack, and flag_stack from class
CrossPolInfo and insert them under class Interferometer. Change the
respective __init__() member functions and docstrings accordingly
(*) Remove stack keyword input and stacking procedure from member
functions update() and update_flags() of class CrossPolInfo. Change
docstring accordingly

From 093042e:
============

In antenna_array.py,

(*) Fix bug by initialization of correct variables in member function
__init__() of class CrossPolInfo
(*) Minor change in docstring of class CrossPolInfo
(*) Fix bug in polarizations in member function update_flags() of
class CrossPolInfo

From 3587025:
===========

In antenna_array.py,

(*) Add keyword inputs stack and verify to member function update()
of class CrossPolInfo
(*) Add stack handling functionality to member function update() of
class CrossPolInfo
(*) Modify slightly member function update() of class CrossPolInfo
(*) Update docstring of member function update() of class CrossPolInfo
accordingly
(*) Minor modifications inside member function update() of class
PolInfo

From 00c23e1:
============

In antenna_array.py,

(*) Add input keywords stack and verify to member function 
update_flags() of class CrossPolInfo. Modify docstring accordingly

From d7a20cc:
============

In antenna_array.py,

(*) Comment out redundant member function update_flags() of class
Antenna and replace its occurrence throughout classes Antenna and
AntennaArray by direct use of the member function update_flags() of
class PolInfo
(*) Add keyword input stack to member function update_flags() of class
AntennaArray. Update docstring accordingly
(*) In member function update() of class AntennaArray, modify the
invocation of member function update_flags() of class AntennaArray
to now use the keyword input stack set to False
(*) Modify stacking of flags in member function update_flags() of
class PolInfo
(*) Add input keyword verify to member function update_flags() of
class PolInfo. Modify docstring accordingly
(*) Add input keyword verify to member function update() of class
PolInfo. Modify docstring accordingly
(*) Add type checking of input keywords stack and verify inside
member function update_flags() of class PolInfo
(*) Pass keyword input verify set to False while calling member
function update_flags() of class PolInfo from inside member function
update() of class PolInfo
(*) Make changes in member function update_flags() and update() of
class AntennaArray to be compatible with changes above

From b8dab4f:
============

In antenna_array.py,

(*) Add attributes Vt_stack, Vf_stack, flag_stack to class
CrossPolInfo and initialize them in __init__()
(*) Add corresponding description in docstring

From d6bed3b:
============

In antenna_array.py,

(*) Add and initialize attribute timestamps in member function
__init__() of class Interferometer
(*) Update docstring accordingly

From 3a2a05f:
============

In antenna_array.py,

(*) Change initialization of attribute flag_stack in member function
__init__() of class PolInfo
(*) Modify updating of flag stacking in member function update_flags()
of class PolInfo
(*) Modify updating of Et and flag stacking in member function
update() of class Antenna

From 6b9fd5c:
============

In antenna_array.py,

(*) Change initialization of attributes Et_stack, Ef_stack in member
function __init__() of class PolInfo
(*) Modify updating of attributes Et_stack and Ef_stack in member
function update() of class PolInfo

From 530e131:
============

In antenna_array.py,

(*) Handle stacking of flags in update_flags() member function of
class AntennaArray
(*) Stack timestamps in update() member function of class AntennaArray

From 94ca972:
============

In antenna_array.py,

(*) Add and initialize attribute timestamps in __init__() member
function of class AntennaArray
(*) Update docstring with description on attributes timestamp and
timestamps which was missing earlier
(*) Update docstring of member function __init__() of class
AntennaArray with description on keyword input antenna_array
(*) Minor change in update() member function of class Antenna while
updating attribute timestamps

From d21c854:
============

In antenna_array.py,

(*) Update attribute timestamps in member function update() of
class Antenna
(*) Invoke stack keyword input inside member function update() of
class Antenna while updating flags and attributes by calling update()
and update_flags() of class PolInfo

From ae80d05:
============

In antenna_array.py,

(*) Add stack as input keyword to member functions FT(), FT_new()
and update_flags() of class Antenna
(*) Update docstrings of member function FT() of class PolInfo and
member functions FT(), FT_new() and update_flags() of class Antenna
(*) Minor inconsequential change in member function FT() of class
PolInfo

From 2bb06f1:
============

In antenna_array.py,

(*) Add and initialize attribute timestamps in __init__() member
function of class Antenna to hold stack of timestamps

From 84fc365:
============

In antenna_array.py,

(*) Add stacking functionality to member function update() of class
PolInfo
(*) Modify previous block slightly to accommodate new functionality
(*) Modify docstring accordingly

From f963850:
============

In antenna_array.py,

(*) Add flag stacking functionality in update_flags() member function
of class PolInfo
(*) Modify docstring accordingly

From b8a43e8:
============

In antenna_array.py,

(*) Add Fourier transform functionality on stacked electric field
time series in FT() member function of class PolInfo. Modify docstring
accordingly

From d8d7d70:
============

In antenna_array.py,

(*) Fix bug in printing flags in __str__() member function of class
PolInfo

From 8e5a19b:
============

In antenna_array.py,

(*) Add attributes Et_stack, Ef_stack, flag_stack to class PolInfo
and initialize them in __init__()
(*) Add corresponding description in docstring

From 89b28e3:
============

Added a FX data analysis script LWA_FX_data_analysis.py equivalent
to LWA_MOFF_data_analysis.py but is untested unlike the latter.
Committing just to switch focus on another development

From 224f6dc:
============

In antenna_array.py,

(*) Change condition check on nproc to call multiprocessing pool()
with appropriate input

From cd12fcd:
============

In antenna_array.py,

(*) Remove usage of 'flag' key in attribute grid_mapper in classes 
AntennaArray and InterferometerArray
(*) In member function make_grid_cube() of classes InterferometerArray
and AntennaArray, use attributes interferometers and antennas
respectively to retrieve flagging information rather than from the
attribute grid_mapper which does not get updates on flags in every
iteration

Create new main programs to test out the new module in data_interface.py

From 4aa2abe:
============

In data_interface.py,

(*) Add docstring to class DataHandler and its member functions
__init__() and save()

From b5e02d3:
============

In data_interface.py,

(*) Add member function save() to class DataHandler
(*) Make changes to __init__() member function of class DataHandler

From 4a32225:
============

In data_interface.py,

(*) Add __init__() method to class DataHandler

From 63da73a:
============

Start building new module under data_interface.py for interfacing
various data products to a common data format

From 9216289:
============

Add new_MOFF_testing_LWA.py to git version control

In antenna_array.py,

(*) Change docstrings to be more accurate
(*) Make update() member function of class Antenna handle update to
delay compensation which was not done earlier
(*) Fix ProgressBar bug in member function grid_convolve() of classes
AntennaArray and InterferometerArray
(*) Change behaviour of ProgressBar throughout

From 5b8601b:
============

In antenna_array.py,

(*) Clean up unused commented lines of code

From 0f09325:
============

In antenna_array.py,

(*) Check similarity of images from MOFF and FX
(*) Yet to test exact amplitudes

From b53f0a3:
============

In antenna_array.py,

(*) Fix ProgressBar bug in member function grid_convolve() of classes
AntennaArray and InterferometerArray

From f6a5fde:
============

In antenna_array.py,

(*) Make update_flags() member function of class Interferometer to be 
compatible with new Antenna class

From 2197714:
============

In antenna_array.py,

(*) Make XF() member function of class Interferometer to be 
compatible with new PolInfo and Antenna classes
(*) Fix bug in FX() and FX_new() of class Interferometer by
changing antenna instance polarization attribute from pol to antpol

From 1ce9756:
============

In antenna_array.py,

(*) Make FX_new() member function of class Interferometer to be 
compatible with new PolInfo and Antenna classes

From f5df64e:
============

In antenna_array.py,

(*) Make FX() member function of class Interferometer to be compatible 
with new PolInfo and Antenna classes

From 7b6d837:
============

In antenna_array.py,

(*) Fix bug in get_E_fields() member function of class AntennaArray by
listing polarization strings separated by comma
(*) Fix bug in reading queue outputs from parallel processing in
member function grid_convolve() of classes InterferometerArray and
AntennaArray
(*) Modify __init__() of class NewImage to be compatible with changes
to class AntennaArray
(*) Modify imagr() of class NewImage to be compatible with changes
to class AntennaArray
(*) Fix bug in update() member function of class AntennaArray where
update_flags() was not called

From 4989a55:
============

In antenna_array.py,

(*) Add input parameters parallel and nproc to member function update()
of class AntennaArray
(*) Fix bug in update() member function of class Antenna by removing
do_correlate statement(s)
(*) Fix docstring throughout by replacing nprocs with nproc
(*) Test update() member function of classes AntennaArray and Antenna
in both serial and parallel processing scenarios

From 380833d:
============

In antenna_array.py,

(*) Fix a bug in member function __add__() of class AntennaArray and
AntennaArray_old
(*) Test __init__() of classes Antenna and AntennaArray
(*) Comment out undeveloped class AntennaPair

Add new_MOFF_testing_MWA.py to git

From fdf6c25:
============

In antenna_array.py,

(*) Update docstring in classes InterferometerArray and AntennaArray

From 4483e7f:
============

In antenna_array.py,

(*) Add update_new() method to class Antenna as a wrapper to update()
method when using parallel processing. Add basic docstring
(*) Add unwrap_antenna_update() to enable parallel processing during
gridding convolution of antenna kernels
(*) Move feature of returning updated instance from update() to
update_new() in class Antenna

From 30bb3dd:
============

In antenna_array.py,

(*) Add member function update() to class AntennaArray with basic
docstring

From 3f66e8a:
============

In antenna-array.py,

(*) Fix bug by changing use of attribute crosspol to antpol in member 
function update_flags() of class AntennaArray

From feee1bb:
============

In antenna_array.py,

(*) Add member function update_flags() to class AntennaArray

From 459b4c5:
============

In antenna_array.py,

(*) Add member function make_grid_cube() to class AntennaArray

From 8a996c5:
============

In antenna_array.py,

(*) Add functions antenna_grid_mapping_arg_splitter(), 
antenna_grid_mapping() and antenna_grid_mapper() to enable parallel
processing during gridding convolution of antenna kernels

From d4bb9c7:
============

In antenna_array.py,

(*) Add member function grid_convolve() to class AntennaArray

From aac7ff5:
============

In antenna_array.py,

(*) Add member function get_E_fields() to class AntennaArray
(*) Fix bug by changing use of attribute crosspol to antpol in member
function antenna_positions() of class AntennaArray

From 1d268cc:
============

In antenna_array.py,

(*) Add member function antenna_positions() to class AntennaArray

From 194b1ba:
============

In antenna_array.py,

(*) Add member function grid() to class AntennaArray

From 600336c:
============

In antenna_array.py,

(*) Add member function FT() to classes AntennaArray and Antenna and 
member function FX_new() to class Interferometer
(*) Add an unwrapping function unwrap_antenna_FT() to enable parallel
processing

From b63de09:
============

In antenna_array.py,

(*) Rename member function temporal_F() in class PolInfo to FT() 

From 37f760c:
============

In antenna_array.py,

(*) Start rewriting class AntennaArray
(*) Add member function __init__() to class AntennaArray
(*) Add member functions __add__(), __radd__(), __sub__(),
add_antennas(), and remove_atennas() to class AntennaArray
(*) Update docstring of class InterferometerArray

From 8e1668a:
============

In antenna_array.py,

(*) Add member function update() to class Antenna to update the antenna
information, with basic docstring

From 3aa5bd8:
============

In antenna_array.py,

(*) Add member function update_flags() to class Antenna to update flags
on the antenna polarizations, with basic docstring

From 519e61b:
============

In antenna_array.py,

(*) Add member function channels() to class Antenna to determine the
frequencies of the channels. Add basic docstring.

From 81f8d3a:
============

In antenna_array.py,

(*) Add member function __str__() to class Antenna to print brief
summary of the information held by an instance of this class

From 9ca0421:
============

In antenna_array.py,

(*) Start a new class Antenna to hold antenna level information and 
procedures with a preliminary docstring
(*) Wrote an __init__() member function with basic docstring

From c2568ce:
============

In antenna_array.py,

(*) Modify member function update() of class PolInfo to update the
spectrum automatically after updating the time series, and also be able
to update the delay compensation with a new input parameter delaydict. 
Modify docstring accordingly.

From c2c901a:
============

In antenna_array.py,

(*) Add member function update() to class PolInfo to update the electric
field time series, spectra and flags. Add basic docstring

From 2d81656:
============

In antenna_array.py,

(*) Add member function update_flags() to class PolInfo to update the
current flags. Add basic docstring

From 8ab5bae:
============

In antenna_array.py,

(*) Add member function delay_compensation() to class PolInfo to apply
delay compensation through phases in the electric field spectra. Add
basic docstring

From 014cf99:
============

In antenna_array.py,

(*) Add member function temporal_F() to class PolInfo to compute
electric field spectrum from time series, with basic docstring

From 6609d93:
============

In antenna_array.py,

(*) Add member function __str__() to class PolInfo to print brief 
summary of the information held by an instance of this class

From 1ffbd9b:
============

In antenna_array.py,

(*) Rename antenna related classes PolInfo, Antenna and AntennaArray 
with suffix old
(*) Start new class PolInfo holding antenna's polarized data with
basic docstring
(*) Write __init__() member function for class PolInfo with docstring

From daf42c2:
============

In antenna_array.py,

(*) Added more parallelization functionality in member function grid_convolve()
of class InterferoemterArray in the nearest neighbour lookup process. And this
has been tested to work successfully using interferometer_testing_MWA.py.

From dcba750:
============

In antenna_array.py,

(*) Strengthened parallelization functionality in member function 
grid_convolve() of class InterferometerArray.
(*) Added input parameter pp_method to specify the type of parallelization to
invoke in member function grid_convolve() of class InterferometerArray. 
Modified docstrings accordingly
(*) Adapted main programs interferometer_testing_LWA.py and 
interferometer_testing_MWA.py to take advantage of the parallelized modules.
They have been tested successfully

From 3335c88:
============

(*) Adapted main program interferometer_testing_LWA.py and tested. It was 
found to work successfully using the current modules.

From a5a819e:
============

(*) Changed input parameter in member function grid_convolve() of class 
InterferometerArray from weighting to mapping and its accepted values from
'natural' and 'uniform' to 'weighted' and 'sampled' respectively. The default
value of this input parameter was changed to 'weighted'. Made changes
accordingly in the main program interferometer_testing_MWA.py. 

(*) Tested these changes successfully on the main program 
interferometer_testing_MWA.py. The other main program 
interferometer_testing_LWA.py is not yet untested for these module changes.

(*) Modified the incomplete docstring of member function grid_convolve() of 
class InterferometerArray.   

From db629df:
============

(*) Verified a87d0bf is not a buggy version as previously thought and checked 
the modules function with expected behavior using interferometer_testing_MWA.py

In antenna_array.py,

(*) imported module matplotlib.pyplot to make plots
(*) in member function imagr() of class NewImage, apply fftshift to 2D fourier
transform only to axes 0 and 1 and not for the 3rd axes, namely, frequency.

From a87d0bf:
============

In antenna_array.py,

(*) Found a new bug where latitude is not an input parameter to update()
member function of class Interferometer. Since latitude of an interferometer 
is not expected to change during the course of an observation, the option to 
update the latitude of the interferometer has been removed. Still mysterious
how this bug crept in since the previous versions of the code worked without
crashing.
(*) Introduced parallel processing using the multiprocessing module in
member functions update_new() and FX_new() which otherwise have the same
functionality of member functions update() and FX() respectively in class
Interferometer. 

All the codes and modules are under testing

From 7ad4bee:
============

(*) Just committing the changelog file since it wasn't committed in the 
previous version. Code version is still not functional

From ed43e3a:
============

In antenna_array.py,

(*) Added a few statements related to multiprocessing. But the code does not work and it is not stable. Just committing in order to switch to different branches.

From 3280acf:
============

In antenna_array.py,

(*) in __init__() member function of class InterferometerArray, initialized 
attributes f, f0, and timestamp based on corresponding values in its
antenna_array attribute
(*) created a member function get_flags() for classes CrossPolInfo and
Interferometer to return flags of cross-polarizations
(*) created a member function interferometers_containing_antenna() for class
InterferometerArray to return labels of interferometers and the position (order)
of the antenna in each of those antenna pairs.
(*) created member functions FX() and XF() for classes Interferometer and
InterferometerArray
(*) Created member function t2f() and f2t() in class Interferometer to convert 
back and forth between timeseries and frequency spectrum
(*) Created more member functions, namely, __str__(), __add__(), __radd__(), 
__sub__(), add_interferometers(), remove_interferometers(), baseline_vectors(),
grid(), grid_convolve(), grid_unconvolve(), and update() for class
InterferometerArray
(*) In update() member function of class AntennaArray, update the attributes t 
and f
(*) Added an attribute grid_ready_P1 and grid_ready_P2 in __init__() member
function of class AntennaArray to indicate if gridding has already been performed
once. Changed docstring accordingly
(*) Attributes grid_ready_P1 and grid_ready_P2 are set to True in member function 
(*) In member function grid_convolve() of class AntennaArray, call the member 
function grid() to account for any updates that may have happened
(*) Added a key 'do_grid' inside key 'antenna_array' in input parameter updates
in member function update() of class AntennaArray
(*) Added a member function make_grid_cube() inside class InterferometerArray
to construct a grid cube of aperture illumination and visibilities
(*) Renamed grid_convolve() to grid_convolve_old() and wrote a new member 
function grid_convolve()
(*) Removed setting visibilities to NaN when the baseline is flagged
(*) Added an input parameter nsamples to __init__() member function of class
CrossPolInfo. Visibility time series and spectrum are initialized to NaN with
lengths equal to nsamples. Flags are initialized to True instead of False as was
done earlier.
(*) Attribute crosspol of class Interferometer is now initialized with input
parameter nsamples equal to number of frequency channels in the call to
__init__() member function of class CrossPolInfo
(*) Added input parameter nsamples to __init__() member function of class
PolInfo. Electric field time series and spectrum are initialized to NaN with
lengths equal to nsamples and 2*nsamples respectively. Flags are initialized to 
True instead of False as was done earlier.
(*) Attribute pol of class Antenna is now initialized with input parameter 
nsamples equal to number of time samples in the call to __init__() member 
function of class PolInfo
(*) flag assignment in member function update_flags() of class Interferometer
modified slightly
(*) Updated docstrings for classes CrossPolInfo, Interferometer, and 
InterferometerArray

From v1.06.2 of MOFF:
====================

In antenna_array.py,

(*) made small bug fixes in __str__() member function of class AntennaArray
(*) Created new classes CrossPolInfo, Interferometer and InterferometerArray
and tested their __init__() member functions while other member functions remain
to be tested
(*) Tested grid() member function in class InterferometerArray

From v1.06.1 of MOFF:
====================

Previous changelog should have mentioned variation from v1.06.1 instead of v1.06
above. Hence just amending the previous commit.

Created a branch lookup_patch to adjust the module to use the newer version of 
the module lookup_operations espcially in switching the usage from lookup() to
lookup_1NN()

In antenna_array.py,

(*) Replaced the calls to lookup() with lookup_1NN() and tested certain cases
with the MWA test script
(*) Added few comments inside member function update() of class AntennaArray
(*) Changed a dictionary key from 'antenna' to 'antennas' to avoid ambiguity with
another similarly named key in member function update() of class AntennaArray

---------------------------------------------------------------------------------
From v1.06 of MOFF:
==================

In antenna_array.py,

(*) Changed all occurrences of variable maxNN to maxmatch to indicate it denotes
maximum number of unique matches between the input locations and lookup table 
and not the number of nearest neighbors for each input location that needs to be
assigned. This is in line with the changes made in lookup_operations.py to
lookup() from v1.08. Changed docstring accordingly.

---------------------------------------------------------------------------------
From v1.05 of MOFF:
==================

In antenna_array.py,

(*) Although keyword maxNN was added in the previous version as an input to
member function grid_convolve(), while passing to lookup operation, it was 
hard-coded to maxNN=1. Now changed it to maxNN=maxNN so that the appropriate
value of maxNN may be passed.

---------------------------------------------------------------------------------
From v1.04 of MOFF:
==================

In antenna_array.py,

(*) Added keyword input maxNN to member functions grid_convolve() of class 
AntennaArray, and as one of the keys in the update dictionary inside update()
member function also of class AntennaArray

---------------------------------------------------------------------------------
From v1.03 of MOFF:
==================

In lookup_operations.py,

(*) in function lookup(), distNN was not initialized when remove_oob is False.
Now it is initialized.

Moved module lookup_operations.py from MOFF to general repository

In antenna_array.py,

(*) Normalized the holographic images by the sum of weights in each frequency
slice of the grid illumination pattern
(*) In member function temporal_F() of class PolInfo, use keyword inverse=False
to make it clear it is not inverse fourier transform
(*) Added a new member function delay_compensation() to class PolInfo that 
compensates for uncorrected delays by applying a phase correction to the
fourier transformed electric fields.
(*) Added input parameters delaydict_P1 and delaydict_P2 to member function
update() of class PolInfo and also a call to member function delay_compensation()
if delay compensation is to be applied. Updated docstring accordingly. 
(*) Added input parameters delaydict_P1 and delaydict_P2 to member function
update() of class Antenna and also in the call to member function update() of
object pol belonging to class PolInfo if delay compensation is to be applied.
Updated docstring accordingly. 
(*) Added input parameters delaydict_P1 and delaydict_P2 to member function
update() of class AntennaArray and also in the call to member function update() 
of object belonging to class Antenna if delay compensation is to be applied.
Updated docstring accordingly. 
(*) Added docstring to member function antenna_positions() of class 
AntennaArray which wasn't included earlier.
(*) Added to docstring of class AntennaArray the presence of member function
antenna_positions() which wasn't included earlier.
(*) In member function update() of class AntennaArray, included defaults (to 
None) for dictionary containing delay information. 
(*) In member function update() of class AntennaArray, earlier the attributes of
only the individual antenna instances were getting updated. Now modified it to
also update some of the attributes of AntennaArray instance such as timestamp.
This is done by making the input parameter 'updates' a dictionary with primary 
keys being 'antenna_array' and 'antenna'. The former is a dictionary consisting 
of updates to AntennaArray instance while the latter is a dictionary consisting
of a list of dictionaries one for each antenna instance to be updated. Changed
docstring accordingly.

---------------------------------------------------------------------------------
from v1.02 of MOFF:
==================

In antenna_array.py,

(*) Imported the lookup_operations module to handle lookup operations
(*) Modified input parameters to member function update() in class Antenna so 
that weight positions and weights can be passed as input parameters directly or
indirectly through a lookup table. The data type of input parameters wtsinfo_P1 
and wtsinfo_P2 have been changed from a list of tuples to a list of dictionaries.
(*) Changed docstring in member function update() of class AntennaArray to 
indicate that wtsinfo_P1 and wtsinfo_P2 are list of dictionaries rather than a
list of tuples as used before.
(*) Added a boolean input parameter named normalize in member function 
grid_convolve() of class AntennaArray, which if set to True will normalize the
gridded weights such that the sum of the gridded weights for each antenna will
equal unity. Otherwise, no such normalization is performed. Changed docstring of
member function grid_convolve() of class AntennaArray accordingly. 
(*) In member function update() of class AntennaArray, the dictionary consisting
of updates now includes a keyword named norm_wts which is a Boolean value that
indicates if normalizing of grid weights is to be performed inside
grid_convolve() when grid_action keyword is set when action keyword is set to 
'add' or 'modify'. Changed docstring of member function update() of class 
AntennaArray accordingly.
(*) Explicitly specified in all the relevant docstrings that wtspos, wtspos_P1,
and wtspos_P2 both as variables and attributes of class Antenna are in units of
number of wavelengths and remove any ambiguity that they could be in units of
physical distance
(*) Added an input parameter named method to member function grid_convolve() of
class AntennaArray which indicates the gridding method to be used. Accordingly
changed use of method from being restricted to 'CS' to whatever value is given
in method
(*) Added an input parameter named distNN to member function grid_convolve() of
class AntennaArray which indicates the upper bound to distance while searching
for nearest neighbours.
(*) Modified grid_convolve() member function of class AntennaArray to use 
nearest neaighbor or other interpolation strategies in applying the antenna 
weights to the grid. The nearest neighbor gridding makes use of the lookup
modules while other algorithms makes use of the gridding modules
(*) In member function update() of class AntennaArray, modified the call to its
member function grid_convolve() such that gridding method and distance upper
bound in case of nearest neighbor gridding are also passed.

In sim_observe.py,

(*) Made minor changes to docstrings in the description of input parameter antpos
in various functions.
(*) Modified stochastic_E_spectrum() to take advantage of numpy array
broadcasting
(*) Added a new input parameter ref_point to stochastic_E_spectrum() which 
denotes the phase reference on the sky
(*) Added a new input parameter ref_point to stochastic_E_timeseries() which 
denotes the phase reference on the sky and internal calling sequence to function
stochastic_E_spectrum() updated accordingly
(*) Inconsequentially changed internal variable names in both functions 
stochastic_E_spectrum() and stochastic_E_timeseries() to be consistent with
the implementation of numpy array broadcasting rules
(*) Added a new input parameter ref_point to monochromatic_E_spectrum() which 
denotes the phase reference on the sky
(*) Added a new input parameter ref_point to monochromatic_E_timeseries() which 
denotes the phase reference on the sky and internal calling sequence to function
monochromatic_E_spectrum() updated accordingly
(*) Added a new input parameter tshift (boolean) to stochastic_E_timeseries()
to indicate if phasing of the antennas is to be achieved by shifting of time bins
for different antennas. If not set to True, the phasing is achieved directly in
the frequency domain and transformed to time domain. If set to True, the time
series for each antenna is shifted by integral number of time bins that achieves
the closest amount of phase difference and the residual delay is returned which
can be applied later to the data in frequency domain.
(*) Body of stochastic_E_timeseries() modified to apply the phase reference 
either directly in the frequency domain or in time domain through delay bin
shifts and residual delay phase in frequency domain.
(*) Dictionary output of stochastic_E_timeseries() now contains a key named
'tres' which consists of residual delays (non-integral part) one per antenna.
(*) Dictionary output of stochastic_E_timeseries() now contains a key named
'tshift which consists of integral number of bins by which the the original 
timeseries of antennas have been shifted.
(*) In function stochastic_E_spectrum(), changed the sign convention of the 
complex exponent arising out of k(.)r such that an antenna at a negative 
location receives the signal after a lag while an antenna with a positive
location receives the signal in advance.
(*) In function monochromatic_E_spectrum(), changed the sign convention of the 
complex exponent arising out of k(.)r such that an antenna at a negative 
location receives the signal after a lag while an antenna with a positive
location receives the signal in advance.
(*) Corresponding to the change in sign convention, the member function imagr()
in class Image now uses FFT and FFT shifts instead of IFFT and IFFT shifts
to compute the images
(*) In monochromatic_E_spectrum(), added random phases from sources
(*) In monochromatic_E_spectrum(), modified few lines to take advantage of numpy
array broadcasting

(*) Created a new module named lookup_operations.py

In lookup_operations.py,

(*) Created functions gen_lookup(), read_lookup(), and lookup() to generate,
read, and perform nearest neighbour lookup respectively.

---------------------------------------------------------------------------------
from v1.01 of MOFF:
==================

In sim_observe.py,

(*) Created new function monochromatic_E_spectrum() and
monochromatic_E_timeseries() which produce a monochromatic electric field
spectrum and time-series respectively.

--------------------------------------------------------------------------------
from v1.0 of MOFF:
=================

In antenna_array.py, 

(*) Moved functions XC() and spectax() to the DSP module. Changed the module
prefix in the calling sequence accordingly
(*) Added attribute timestamp to Class AntennaArray
(*) Added method antenna_positions() in AntennaArray class to return a
dictionary containing antenna labels and a corresponding 3-column numpy array
of antenna locations either in random or sorted order based on the antenna
labels.
(*) Added a save() method in AntennaArray class to write contents of the
instance to disk
(*) Added a save() method in Antenna class to write contents of the instance
to disk
(*) In class method temporal_F() of class PolInfo, the time sequence is 
doubled in length by zero padding before the channelization using FFT
(*) In class method channels() of class Antenna, the frequency channels are now
computed with twice the length of time sequence and same time resolution to be
consistent with changes in temporal_F() method in class PolInfo.
(*) Added a new class Image to handle imaging data and associated operations.
(*) Class Image currently has the following member functions: __init__(), 
imagr() and save().
(*) __init__() of class Image can take in an instance of AntennaArray class or
a FITS file written by the save() method of AntennaArray class
(*) imagr() of class Image performs imaging operations on the antenna array 
grid information to produce a holographic image (complex, voltage)
(*) save() of class Image writes the image information to a FITS file on disk

Created a new module named sim_observe. 

(*) It consists of two functions, namely, stochastic_E_spectrum() and
stochastic_E_timeseries(). 
(*) stochastic_E_spectrum() computes random electric field spectra. Docstring
included.
(*) stochastic_E_timeseries() computes random electric field timeseries.
Docstring included.


--------------------------------------------------------------------------------
from v1.2 of python-trials:
==========================

In antenna_array.py, 

(*) member function F() replaced with temporal_F() in class
PolInfo does not return any values. Accordingly changed the calls to member
function in __init__(), and update().
(*) Renamed attribute pos in class Antenna, AntennaPair and AntennaArray to
location
(*) Introduced rotation matrix to convert from an individual antenna frame to 
local ENU coordinates in __init__() and update() in Antenna class
(*) Updated the call in Antenna class member function update() to PolInfo member
function update() 
(*) Added attribute 'latitude' to Antenna class
(*) Changed X and Y polarizations to P1 and P2 respectively to avoind confusion 
with x and y spatial coordinates
(*) Changed __init__() in PolInfo to different defaults
(*) Changed __init__() in Antenna to different defaults and added some data 
validation. 
(*) Added save method to class Antenna
(*) Changed gridding weights input type to Antenna class member function update.
(*) renamed spaxis() to spectax() and changed default of shift from True to 
False
(*) Making all time-series FFT shifted to have frequencies in sorted order by
setting shift=True
(*) Antenna class update() member function provides scaling, no scaling or 
explicit options for updating gridding information along frequency channels.
(*) AntennaArray class update() member function can add, remove, or update. The
updates should be provided as a list of dictionaries which will be passed to the
update() member function of individual antenna instances. 
(*) Verbose functionality added to update() member functions in Antenna and 
AntennaArray classes
(*) Added blc and trc attributes to Antenna class for antenna's grid occupation
in __init__() and their estimates in update() member function
(*) Renamed attributes ants_xmin_P1, grid_xmin_P1, etc. in terms of blc and trc
in AntennaArray class
(*) Added grid attributes for both polarizations
(*) Added polarization inputs to gridding methods
(*) Gridding occurs only based on unflagged antennas
(*) Information about individual antenna's influence on grid is stored in the 
form of a dictionary in the antenna's attributes gridinfo_P1 and gridinfo_P2
(*) Incremental gridding features added for addition, removal, and 
modifications of antennas
(*) Renamed function parameter 'spacing' in grid() to 'uvspacing'
(*) Added docstrings for all the functions and class member functions
(*) save() member functions in classes Antenna and AntennaArray need to be 
developed. 

Added a python script MOFF_testing.py for preliminary testing of modules 
developed for MOFF
